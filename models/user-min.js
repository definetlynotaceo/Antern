var bcrypt=require("bcryptjs"),mongoose=require("mongoose");const SALT_FACTOR=10;var userSchema=mongoose.Schema({username:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!1},createdAt:{type:Date,default:Date.now}});userSchema.pre("save",(function(e){var r=this;if(!r.isModified("password"))return e();bcrypt.genSalt(10,(function(s,o){if(s)return e(s);bcrypt.hash(r.password,o,(function(s,o){if(s)return e(s);r.password=o,e()}))}))})),userSchema.methods.checkPassword=function(e,r){null!=this.password&&bcrypt.compare(e,this.password,(function(e,s){r(e,s)}))};var User=mongoose.model("User",userSchema);module.exports=User;